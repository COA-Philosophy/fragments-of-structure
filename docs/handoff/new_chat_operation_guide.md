# 📖 新チャット運用ガイド - Tier 2システム

## 🎯 運用戦略

### 作業複雑度別アプローチ
```yaml
軽微作業 (Tier 1): handoff_v2.txt (100トークン)
通常作業 (Tier 2): tier2_balanced_handoff.md (1400トークン) ←推奨
複雑作業 (Tier 3): 完全引き継ぎ必要 (2500トークン+)
```

---

## 🚀 新チャット開始手順

### Step 1: 基本引き継ぎ
```
1. docs/handoff/tier2_balanced_handoff.md をコピー
2. 新チャットに貼り付け
3. 現在の課題を1-2行で追加
```

### Step 2: 作業開始指示
```
例: 
"現在の課題: ソートドロップダウンのz-index表示問題修正"
"現在の課題: Phase 4.1個別Fragment詳細ページ実装開始"
```

### Step 3: 段階的情報提供
```
必要に応じて以下を追加投入:
- @docs/work/success_patterns.md (成功パターン参照)
- 具体的エラー内容・画面キャプチャ
- 技術的詳細・依存関係情報
```

---

## 📊 作業種別判定ガイド

### Tier 1推奨（100トークン）
```yaml
対象:
  - CSS調整・スタイル修正
  - 軽微なバグ修正
  - テキスト変更
  - 小幅なレイアウト調整

特徴:
  - 1ファイル修正
  - 既存機能に影響なし
  - 30分以内完了
  - リスク: 極低
```

### Tier 2推奨（1400トークン）
```yaml
対象:
  - 新機能追加
  - UI改善・拡張  
  - 中程度のリファクタリング
  - API統合

特徴:
  - 1-3ファイル修正
  - 既存機能への慎重配慮必要
  - 45-120分完了
  - リスク: 中
```

### Tier 3必要（2500トークン+）
```yaml
対象:
  - 3D実装・WebGL
  - アーキテクチャ変更
  - セキュリティ実装
  - 大規模リファクタリング

特徴:
  - 5+ファイル修正
  - システム全体への影響
  - 半日以上必要
  - リスク: 高
```

---

## 💡 効率的コミュニケーション

### 報告テンプレート
```yaml
開始: "🔄 [Phase名] 実装開始: [簡潔な内容]"
進行: "📊 [進捗%] [現在作業]: [問題・質問があれば]"
完了: "✅ [Phase名] 完了: [主要達成内容] → 次: [次の課題]"
問題: "❌ [問題種別]: [具体的内容・エラーメッセージ]"
確認: "❓ [判断が必要な項目]: [選択肢A/B/C]"
```

### トークン節約技術
```yaml
成功報告: "✅ P4.1完了: 詳細ページ実装、ナビ追加 → P4.2準備"
問題報告: "❌ TypeError: props.fragment.id undefined"
質問: "❓ モーダル vs 専用ページ: A/B?"
```

---

## 🛡️ 安全管理プロトコル

### 作業前チェック
```bash
# Git状況確認
git status
git log --oneline -5

# ブランチ確認
git branch

# 安全保存
git add .
git commit -m "Phase X.Y 開始前セーフポイント"
```

### 実装中の安全策
```yaml
段階的保存: 大きな変更の前後でcommit
動作確認: 各ステップでの機能テスト
影響確認: 既存機能への副作用チェック
即座対応: 問題発生時の即座元戻し
```

### 緊急時対応
```bash
# 即座元戻し
git reset --hard HEAD~1

# 特定ファイル元戻し  
git checkout HEAD -- path/to/file.tsx

# 作業ブランチリセット
git checkout main
git branch -D feature/problematic-branch
```

---

## 📈 品質管理基準

### 完了判定基準
```yaml
技術的:
  - TypeScript エラーゼロ
  - Console エラーゼロ  
  - 想定通りの動作確認
  - 既存機能への影響なし

UX:
  - 直感的操作性
  - 適切な視覚フィードバック
  - レスポンシブ対応
  - アクセシビリティ配慮

性能:
  - スムーズなアニメーション
  - 高速レスポンス
  - メモリリーク なし
```

### レビューポイント
```yaml
アーキテクチャ: 保守性・拡張性・一貫性
実装品質: 型安全性・エラーハンドリング・最適化
UX品質: 使いやすさ・美しさ・アクセシビリティ
性能: 速度・レスポンシブ・バッテリー効率
```

---

## 🎯 成功の再現方法

### Phase 3系成功パターン適用
```yaml
P3.1パターン: 既存UI改善（選択状態明確化）
P3.2パターン: 新UI追加（情報表示バー）
P3.3パターン: 詳細情報改善（メッセージ・表示）
Hotfixパターン: 即座問題解決（button→div等）
```

### 設計思想の継承
```yaml
ユーザー中心: 直感的操作を最優先
情報明確化: 状態・結果を明確表示
段階的改善: 一度に完璧より継続改善
安全第一: 既存機能破壊絶対回避
品質重視: 妥協なき品質基準維持
```

---

## 📋 チェックリスト

### 新チャット開始時
- [ ] Tier 2引き継ぎファイル準備
- [ ] 現在の課題明確化
- [ ] 作業複雑度判定
- [ ] Git状況確認
- [ ] 時間見積もり設定

### 実装実行時  
- [ ] 段階的実装計画
- [ ] 安全保存実行
- [ ] 動作確認実施
- [ ] 品質確認実施
- [ ] 完了判定実施

### 完了・引き継ぎ時
- [ ] 最終動作確認
- [ ] Git適切保存
- [ ] 成果物文書化
- [ ] 次Phase計画
- [ ] 引き継ぎ情報更新

---

## 🌟 期待効果

### 開発効率
```yaml
新チャット立ち上げ: 3分以内
作業開始準備: 5分以内  
実装完了: Phase複雑度による
問題解決: 平均15分以内
```

### 品質保証
```yaml
既存機能保護: 95%以上
新機能品質: 世界トップクラス維持
エラー率: 5%以下
ユーザー満足度: 劇的向上
```

### 継続性
```yaml
情報継承: 95%完全継承
技術継続: ノウハウ蓄積・活用
品質継続: 基準維持・向上
効率継続: パターン再利用
```

---

**この運用ガイドにより、一貫した高品質開発を継続実現** ✅